{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","objectId","delete","concat","put","Filter","_ref","handleChange","react_default","a","createElement","onChange","Results","_ref2","searchResults","removeItem","map","person","key","id","name","number","onClick","PersonForm","_ref3","addNewItem","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","type","Notification","_ref4","message","msgType","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","msg","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchResults","_useState9","_useState10","setMessage","useEffect","personService","initialData","App_Filter","e","foundPersons","filter","toLowerCase","includes","target","error","console","log","App_Notification","App_PersonForm","preventDefault","namesOnly","itemToEdit","find","window","confirm","editedItem","objectSpread","dataReturned","catch","setTimeout","App_Results","personToRemove","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ee748fbe.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (objectId) => {\r\n  const request = axios.delete(`${baseUrl}/${objectId}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (objectId, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${objectId}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, remove, update };\r\n","import { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport personService from \"./services/persons\";\n// I changed later to inline styles instead .css file \n//import \"./index.css\";\n\nconst Filter = ({ handleChange }) => {\n  return (\n    <div>\n      filter shown with <input onChange={handleChange} />\n    </div>\n  );\n};\n\nconst Results = ({ searchResults, removeItem }) => {\n  return (\n    <div>\n      {searchResults.map((person) => (\n        <p key={person.id}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={() => removeItem(person.id)}>delete</button>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nconst PersonForm = ({\n  addNewItem,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addNewItem}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nconst Notification = ({ message }) => {\n  const error = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  };\n  const success = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  };\n  if (message.msgType === null) {\n    return null;\n  } else if (message.msgType === \"success\") {\n    return <div style={success}>{message.msg}</div>;\n  } else if (message.msgType === \"error\") {\n    return <div style={error}>{message.msg}</div>;\n  }\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [message, setMessage] = useState({ msg: null, msgType: null });\n\n  useEffect(() => {\n    personService.getAll().then((initialData) => {\n      setPersons(initialData);\n    });\n  }, []);\n\n  const removeItem = (id) => {\n    const personToRemove = persons.find((person) => person.id === id);\n\n    if (window.confirm(\"Do you really want to delete \" + personToRemove.name)) {\n      personService\n        .remove(id)\n        .then()\n        .catch(() => {\n          setMessage({\n            msg: `Information of ${personToRemove.name} has already removed from server`,\n            msgType: \"error\",\n          });\n        });\n\n      //Reset persons and search results\n      setPersons(persons.filter((person) => person.id !== id));\n      setSearchResults([]);\n\n      setTimeout(() => {\n        setMessage({ msg: null, msgType: null });\n      }, 5000);\n    }\n  };\n\n  //Bloated function handling updating old and creating new\n  const addNewItem = (e) => {\n    e.preventDefault();\n    const namesOnly = persons.map((person) => person.name);\n    const itemToEdit = persons.find((person) => person.name === newName);\n\n    if (\n      namesOnly.includes(newName) &&\n      window.confirm(\n        `${newName} is already in the phonebook, do you want to replace the old number with new one?`\n      )\n    ) {\n      //Update existing\n      const editedItem = { ...itemToEdit, number: newNumber };\n\n      personService.update(itemToEdit.id, editedItem).then((dataReturned) => {\n        setPersons(\n          persons.map((person) =>\n            person.id !== itemToEdit.id ? person : dataReturned\n          )\n        );\n        setMessage({\n          msg: `${itemToEdit.name} phone number updated`,\n          msgType: \"success\",\n        });\n      }).catch(() => {\n        setMessage({\n          msg: `Information of ${newName} has already removed from server`,\n          msgType: \"error\",\n        })\n      });\n    } else {\n      //Create new\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.create(nameObject).then((dataReturned) => {\n        setPersons(persons.concat(dataReturned));\n        setMessage({\n          msg: `${dataReturned.name} added to the phonebook`,\n          msgType: \"success\",\n        });\n      });\n    }\n\n    //Reset fields and messages\n    setTimeout(() => {\n      setMessage({ msg: null, msgType: null });\n    }, 5000);\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  //This throws error after person number is updated\n  const handleSearchChange = (e) => {\n    try {\n      const foundPersons = persons.filter((person) =>\n        person.name.toLowerCase().includes(e.target.value)\n      );\n      setSearchResults(foundPersons);\n    } catch (error) {\n      console.log(\"=== error App.js [165] === \" + error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter handleChange={handleSearchChange} />\n      <Notification message={message} />\n      <h3>add a new</h3>\n      <PersonForm\n        addNewItem={addNewItem}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Results searchResults={searchResults} removeItem={removeItem} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}